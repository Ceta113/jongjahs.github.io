<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¢…ìì˜ˆìˆ ê³ ë“±í•™êµ ARCHIVE SYSTEM</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=JetBrains+Mono:wght@400;700&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #9333ea;
      --primary-light: #d8b4fe;
      --primary-dim: #4c1d7a; /* ì–´ë‘ìš´ ë³´ë¼ */
      --accent: #c084fc;       /* ë¶€íŒ… í…ìŠ¤íŠ¸ìš© ë°ì€ ë³´ë¼ */
      --bg-dark: #050505;
      --bg-panel: rgba(20, 20, 25, 0.6);
      --text-main: #e0e0e0;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      background-color: var(--bg-dark);
      color: var(--text-main);
      font-family: 'Noto Sans KR', sans-serif;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
    }

    /* === 1. ë®¤ì§ í”Œë ˆì´ì–´ === */
    .music-player {
      position: fixed;
      bottom: 30px;
      left: 30px;
      width: 280px;
      background: rgba(10, 10, 15, 0.85);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(147, 51, 234, 0.3);
      border-left: 3px solid var(--primary);
      padding: 15px 20px;
      z-index: 500;
      display: flex;
      align-items: center;
      gap: 15px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      transition: opacity 1s;
      opacity: 0;
    }

    .album-art {
      width: 45px; height: 45px;
      background: linear-gradient(135deg, var(--primary), #000);
      border-radius: 4px;
      display: flex; align-items: center; justify-content: center;
      font-size: 20px;
    }
    .track-info { flex: 1; overflow: hidden; }
    .track-title { font-family: 'JetBrains Mono'; font-size: 12px; color: #fff; margin-bottom: 3px; }
    .track-artist { font-size: 10px; color: #888; }
    .controls { display: flex; gap: 10px; }
    .ctrl-btn { background: none; border: none; color: var(--primary-light); cursor: pointer; font-size: 14px; transition: 0.2s; }
    .ctrl-btn:hover { color: #fff; transform: scale(1.2); }
    .album-art.playing { animation: spin 4s linear infinite; }
    @keyframes spin { 100% { transform: rotate(360deg); } }

    /* === 2. ë°°ê²½ íš¨ê³¼ (ì”¨ì•—) === */
    #seed-container {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: 1; overflow: hidden;
    }
    .seed {
      position: absolute; font-size: 20px;
      filter: hue-rotate(260deg) brightness(1.5) drop-shadow(0 0 8px var(--primary));
      opacity: 0; animation: fall linear forwards;
    }
    @keyframes fall {
      0% { transform: translateY(-50px) rotate(0deg); opacity: 0; }
      10% { opacity: 0.8; }
      100% { transform: translateY(105vh) rotate(360deg); opacity: 0; }
    }

    /* === 3. ë¡œê·¸ì¸ í™”ë©´ === */
    .login-screen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
      background: radial-gradient(circle at center, #1a0b2e 0%, #000000 100%);
      display: flex; align-items: center; justify-content: center;
      z-index: 9999; transition: opacity 0.8s, visibility 0.8s;
    }
    .login-box {
      background: rgba(10, 10, 15, 0.8);
      border: 1px solid rgba(147, 51, 234, 0.5);
      padding: 60px 50px;
      width: 400px;
      border-radius: 4px;
      backdrop-filter: blur(10px);
      box-shadow: 0 0 50px rgba(147, 51, 234, 0.2);
      text-align: center;
      position: relative;
      z-index: 10;
    }
    
    /* ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ (ê¸€ì ì¹ ìˆ˜ë¡ ë¹›ë‚˜ê²Œ JSë¡œ ì œì–´) */
    .input-field {
      width: 100%;
      background: transparent;
      border: none;
      border-bottom: 2px solid var(--primary-dim);
      color: var(--primary-dim); /* ì²˜ìŒì—” ì–´ë‘ì›€ */
      font-size: 24px;
      text-align: center;
      padding: 10px;
      font-family: 'JetBrains Mono', monospace;
      outline: none;
      margin-top: 30px;
      transition: all 0.1s;
      letter-spacing: 5px;
    }
    .input-field::placeholder {
      font-size: 14px; letter-spacing: 1px; color: #444;
    }

    .login-btn {
      margin-top: 30px;
      background: var(--primary);
      color: #fff;
      border: none;
      padding: 12px 30px;
      font-family: 'JetBrains Mono', monospace;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }
    .login-btn:hover { background: var(--primary-light); box-shadow: 0 0 15px var(--primary); }

    /* === 4. ë¶€íŒ… í™”ë©´ (ë³´ë¼ìƒ‰ í„°ë¯¸ë„) === */
    .boot-screen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
      background: #05000a; /* ì•„ì£¼ ì–´ë‘ìš´ ë³´ë¼ë¹› ë¸”ë™ */
      z-index: 9000;
      display: none;
      padding: 40px;
      font-family: 'JetBrains Mono', monospace;
      color: var(--accent); /* ì´ì œ ë³´ë¼ìƒ‰ ê¸€ì”¨ */
      font-size: 13px;
      line-height: 1.6;
    }

    /* === 5. ë©”ì¸ ëŒ€ì‹œë³´ë“œ (ì„¹ì…˜ ë¶„ë¦¬) === */
    .main-wrapper {
      display: flex; height: 100vh;
      opacity: 0; transition: opacity 1s;
      background: radial-gradient(circle at 80% 20%, rgba(60, 20, 80, 0.2), transparent 60%);
    }
    .sidebar {
      width: 250px;
      border-right: 1px solid rgba(255, 255, 255, 0.1);
      padding: 30px;
      background: rgba(0,0,0,0.4);
      backdrop-filter: blur(5px);
      flex-shrink: 0;
    }
    .menu-item {
      padding: 15px 0; color: #888; cursor: pointer;
      font-family: 'JetBrains Mono', monospace;
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    .menu-item.active { color: #fff; border-left: 2px solid var(--primary); padding-left: 10px; }
    
    .content-area {
      flex: 1;
      padding: 50px 60px;
      overflow-y: auto;
      scroll-behavior: smooth;
    }
    
    /* ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
    .section-title {
      font-size: 20px;
      color: #fff;
      margin-top: 50px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      border-left: 4px solid var(--primary);
      padding-left: 15px;
    }
    .section-title:first-of-type { margin-top: 10px; }

    /* ì¹´ë“œ ê·¸ë¦¬ë“œ (ì„¹ì…˜ë³„ë¡œ ë‚˜ëˆ”) */
    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }
    
    .card {
      background: var(--bg-panel);
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 25px;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
    }
    .card:hover {
      transform: translateY(-5px);
      background: rgba(40, 40, 50, 0.9);
      border-color: var(--primary);
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    .card h3 { color: #fff; margin-bottom: 10px; font-size: 18px; }
    .card p { font-size: 13px; color: #aaa; line-height: 1.6; }
    .card .tag { font-family: 'JetBrains Mono', monospace; font-size: 10px; color: var(--primary-light); display: block; margin-bottom: 15px; }

    /* === 6. ìŠ¤í† ë¦¬ ë¦¬ë” (ì†ë„ ì¡°ì ˆë¨) === */
    .story-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 10000;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      opacity: 0; pointer-events: none; transition: opacity 0.8s;
    }
    .story-overlay.active { opacity: 1; pointer-events: auto; }
    .story-text {
      font-family: 'Noto Serif KR', serif;
      font-size: 24px;
      line-height: 1.8;
      color: #fff;
      text-align: center;
      max-width: 800px;
      min-height: 120px; /* ë†’ì´ í™•ë³´ */
    }
    .cursor::after { content: '|'; animation: blink 0.8s infinite; }
    @keyframes blink { 50% { opacity: 0; } }

    /* ê¸€ë¦¬ì¹˜ íš¨ê³¼ */
    .glitch { position: relative; }
    .glitch::before, .glitch::after {
      content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-dark);
    }
    .glitch::before { left: 2px; text-shadow: -1px 0 red; clip: rect(24px, 550px, 90px, 0); animation: glitch-anim 3s infinite linear alternate-reverse; }
    .glitch::after { left: -2px; text-shadow: -1px 0 blue; clip: rect(85px, 550px, 140px, 0); animation: glitch-anim 2s infinite linear alternate-reverse; }
    @keyframes glitch-anim { 0% { clip: rect(10px, 9999px, 30px, 0); } 100% { clip: rect(80px, 9999px, 100px, 0); } }

  </style>
</head>
<body>

  <!-- ğŸµ ë®¤ì§ í”Œë ˆì´ì–´ -->
  <div class="music-player" id="musicPlayer">
    <div class="album-art" id="albumArt">ğŸµ</div>
    <div class="track-info">
      <div class="track-title" id="trackTitle">System Offline</div>
      <div class="track-artist" id="trackArtist">No Connection</div>
    </div>
    <div class="controls">
      <button class="ctrl-btn" onclick="prevTrack()">â®</button>
      <button class="ctrl-btn" onclick="togglePlay()" id="playBtn">â–¶</button>
      <button class="ctrl-btn" onclick="nextTrack()">â­</button>
    </div>
    <audio id="audioSource"></audio>
  </div>


  <!-- 1. ë¡œê·¸ì¸ í™”ë©´ -->
  <div class="login-screen" id="loginScreen">
    <div id="seed-container"></div>
    <div class="login-box">
      <div class="school-logo">
        <h1 class="glitch" data-text="ì¢…ìì˜ˆìˆ ê³ ë“±í•™êµ">ì¢…ìì˜ˆìˆ ê³ ë“±í•™êµ</h1>
        <p>SECURE ARCHIVE SYSTEM</p>
      </div>
      
      <!-- ì…ë ¥ì°½: ê¸€ì ìˆ˜ì— ë”°ë¼ ë°ì•„ì§ -->
      <input type="password" id="passwordInput" class="input-field" placeholder="ACCESS CODE" maxlength="10">
      
      <button class="login-btn" onclick="tryLogin()">CONNECT</button>
      <div id="errorMsg" style="color: #ff4d4d; font-size: 12px; margin-top: 15px; opacity: 0;">âš ï¸ ACCESS DENIED</div>
    </div>
  </div>

  <!-- 2. ë¶€íŒ… í™”ë©´ (ë³´ë¼ìƒ‰) -->
  <div class="boot-screen" id="bootScreen"></div>

  <!-- 3. ë©”ì¸ ëŒ€ì‹œë³´ë“œ (ì„¹ì…˜ ë¶„ë¦¬) -->
  <div class="main-wrapper" id="mainWrapper">
    <aside class="sidebar">
      <div>
        <h2 style="font-size: 14px; color: #fff; margin-bottom: 30px; letter-spacing: 2px;">JONGJA ART</h2>
        <div class="menu-item active">ARCHIVE DATA</div>
        <div class="menu-item">SYSTEM LOGS</div>
        <div class="menu-item">CONNECTION</div>
      </div>
      <div style="font-size: 10px; color: #555;">
        SERVER: ONLINE<br>
        LATENCY: 12ms
      </div>
    </aside>

    <main class="content-area">
      <h1 class="glitch" data-text="ARCHIVE RECORDS" style="font-size: 32px; color: #fff; margin-bottom: 10px;">ARCHIVE RECORDS</h1>
      <p style="color: #888; margin-bottom: 10px;">ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì† ì™„ë£Œ. ì—´ëŒí•  ê¸°ë¡ì„ ì„ íƒí•˜ì‹­ì‹œì˜¤.</p>

      <!-- ì„¹ì…˜ 1: ì¸ë¬¼ -->
      <h2 class="section-title">ğŸ‘¥ í•™ìƒ ë° ì¸ë¬¼ ê¸°ë¡</h2>
      <div class="card-grid">
        <div class="card" onclick="openStory('kim')">
          <span class="tag">001. ART DEPT</span>
          <h3>ê¹€ì„œìœ¤</h3>
          <p>ë¯¸ìˆ ê³¼ 2í•™ë…„ ë™ì–‘í™” ì „ê³µ. ìƒˆë²½ ë“±êµì™€ ìŠ¤ì¼€ì¹˜ë¶.</p>
        </div>
        <div class="card" onclick="openStory('lee')">
          <span class="tag">002. MUSIC DEPT</span>
          <h3>ì´ì¤€í˜</h3>
          <p>ìŒì•…ê³¼ 3í•™ë…„ í”¼ì•„ë…¸ ì „ê³µ. 7ë²ˆ ì—°ìŠµì‹¤ì˜ ìœ ë ¹.</p>
        </div>
      </div>

      <!-- ì„¹ì…˜ 2: ì¥ì†Œ -->
      <h2 class="section-title">ğŸ—ºï¸ êµë‚´ ì£¼ìš” ì¥ì†Œ</h2>
      <div class="card-grid">
        <div class="card" onclick="openStory('stairs')">
          <span class="tag">LOC. 05 / MAIN HALL</span>
          <h3>ì¤‘ì•™ ê³„ë‹¨</h3>
          <p>ì ì‹¬ì‹œê°„ì˜ ë§Œë‚¨ì˜ ê´‘ì¥ì´ì ì•”ë¬µì  ëŒ€ê¸°ì„.</p>
        </div>
        <div class="card" onclick="openStory('roof')">
          <span class="tag">LOC. 99 / RESTRICTED</span>
          <h3>5ì¸µ ì˜¥ìƒ ì¶œì…êµ¬</h3>
          <p>ì ê¸ˆì¥ì¹˜ê°€ ìì£¼ í’€ë ¤ìˆëŠ” ë¯¸ì§€ì˜ êµ¬ì—­.</p>
        </div>
      </div>

      <!-- ì„¹ì…˜ 3: ì‚¬ê±´ -->
      <h2 class="section-title">ğŸ“ ì‚¬ê±´ ê¸°ë¡</h2>
      <div class="card-grid">
        <div class="card" onclick="openStory('snow')">
          <span class="tag">EVT. 2024-12-03</span>
          <h3>ì²«ëˆˆì´ ë‚´ë¦° ë‚ </h3>
          <p>ìˆ˜ì—…ì´ 10ë¶„ ì§€ì—°ë  ìˆ˜ë°–ì— ì—†ì—ˆë˜ ê¸°ë¡.</p>
        </div>
      </div>

    </main>
  </div>

  <!-- 4. ìŠ¤í† ë¦¬ ë¦¬ë” -->
  <div class="story-overlay" id="storyOverlay" onclick="nextSentence()">
    <div style="position: absolute; top: 40px; right: 40px; font-family: 'JetBrains Mono'; color: var(--primary); font-size: 12px;" id="storyProgress">01 / 05</div>
    <div class="story-text" id="storyText"></div>
    <div style="position: absolute; bottom: 50px; font-family: 'JetBrains Mono'; font-size: 12px; color: #666; animation: blink 1.5s infinite;">CLICK TO CONTINUE</div>
  </div>

  <script>
    /* === 1. ë®¤ì§ í”Œë ˆì´ì–´ ë¡œì§ === */
    const playlist = [
      { title: "School Ambience", artist: "Jongja High", src: "" },
      { title: "Art Room Noise", artist: "Recorder 01", src: "" },
      { title: "Piano Practice", artist: "Lee Jun-hyeok", src: "" }
    ];
    let currentTrackIndex = 0;
    let isPlaying = false;
    
    function updatePlayerUI() {
      const track = playlist[currentTrackIndex];
      document.getElementById('trackTitle').innerText = track.title;
      document.getElementById('trackArtist').innerText = track.artist;
    }
    function togglePlay() {
      const btn = document.getElementById('playBtn');
      const art = document.getElementById('albumArt');
      if (isPlaying) {
        isPlaying = false; btn.innerText = "â–¶"; art.classList.remove('playing');
      } else {
        isPlaying = true; btn.innerText = "â¸"; art.classList.add('playing');
      }
    }
    function nextTrack() {
      currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
      updatePlayerUI();
    }
    function prevTrack() {
      currentTrackIndex = (currentTrackIndex - 1 + playlist.length) % playlist.length;
      updatePlayerUI();
    }
    updatePlayerUI();


    /* === 2. ë¡œê·¸ì¸ ì…ë ¥ì°½ ì¸í„°ë™ì…˜ (ì ì  ë°ì•„ì§€ê²Œ) === */
    const pwdInput = document.getElementById('passwordInput');
    pwdInput.addEventListener('input', function() {
      const length = this.value.length;
      // ê¸€ì ìˆ˜(0~10)ì— ë”°ë¼ ë°ê¸°(Lightness)ë¥¼ 30% ~ 100% ì¡°ì ˆ
      const lightness = 30 + (length * 7); 
      // ê¸€ì ìˆ˜ì— ë”°ë¼ ê·¸ë¦¼ì(Glow) ì„¸ê¸° ì¡°ì ˆ
      const glow = length * 2;
      
      this.style.color = `hsl(270, 100%, ${lightness}%)`;
      this.style.borderBottomColor = `hsl(270, 100%, ${lightness}%)`;
      
      if(length > 0) {
        this.style.textShadow = `0 0 ${glow}px var(--primary)`;
        this.style.boxShadow = `0 10px 20px -10px rgba(147, 51, 234, ${length/15})`;
      } else {
        this.style.textShadow = 'none';
        this.style.boxShadow = 'none';
      }
    });

    /* === 3. ë°ì´í„° ë° ì‹œìŠ¤í…œ ë¡œì§ === */
    const storyDB = {
      'kim': [
        "ê¹€ì„œìœ¤. ë¯¸ìˆ ê³¼ 2í•™ë…„, ë™ì–‘í™” ì „ê³µ.",
        "ê·¸ë…€ëŠ” ìˆ˜ì—… ì‹œê°„ì— ê±°ì˜ ë§ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.",
        "í•˜ì§€ë§Œ ë³µë„ì—ì„œëŠ” í•­ìƒ ë‚¡ì€ ìŠ¤ì¼€ì¹˜ë¶ì„ í’ˆì— ì•ˆê³  ë‹¤ë‹™ë‹ˆë‹¤.",
        "ìµœê·¼ 3ì¸µ ì‘ì—…ì‹¤ êµ¬ì„ ìë¦¬ì—ì„œ í˜¼ì£ë§ì„ í•˜ëŠ” ëª¨ìŠµì´ ëª©ê²©ë˜ì—ˆìŠµë‹ˆë‹¤.",
        "ì˜¤ì „ 7ì‹œ 30ë¶„. ì•„ë¬´ë„ ì—†ëŠ” í•™êµì— ê·¸ë…€ê°€ ë“±êµí•˜ëŠ” ì´ìœ ë¥¼ ì•„ì§ ì•Œì•„ë‚´ì§€ ëª»í–ˆìŠµë‹ˆë‹¤."
      ],
      'lee': [
        "ì´ì¤€í˜. ìŒì•…ê³¼ 3í•™ë…„.",
        "ì§€í•˜ ì—°ìŠµì‹¤ 7ë²ˆ ë°©ì€ ê·¸ì˜ ì „ìš© ê³µê°„ì´ë‚˜ ë‹¤ë¦„ì—†ìŠµë‹ˆë‹¤.",
        "í•˜ë£¨ í‰ê·  ì—°ìŠµ ì‹œê°„ì€ 5ì‹œê°„.",
        "ê·¸ê°€ ì—°ìŠµì‹¤ ë¬¸ì„ ì ê·¸ë©´, ë³µë„ ëê¹Œì§€ ì‡¼íŒ½ì˜ ì„ ìœ¨ì´ ìš¸ë ¤ í¼ì§‘ë‹ˆë‹¤.",
        "ì–¼ë§ˆ ì „ ì •ê¸° ì—°ì£¼íšŒê°€ ëë‚œ í›„, ì²˜ìŒìœ¼ë¡œ ê·¸ê°€ ì›ƒëŠ” ëª¨ìŠµì„ ë³´ì•˜ìŠµë‹ˆë‹¤."
      ],
      'stairs': [
        "1ì¸µ ì¤‘ì•™ ê³„ë‹¨.",
        "ì ì‹¬ì‹œê°„ 12ì‹œ 30ë¶„ì´ ë˜ë©´ ì´ê³³ì€ í•™ìƒë“¤ë¡œ ê°€ë“ ì°¹ë‹ˆë‹¤.",
        "ëˆ„ê°€ ì •í•œ ì ì€ ì—†ì§€ë§Œ, ìš°ì¸¡ ëìë¦¬ëŠ” í•­ìƒ 'ê¸°ë‹¤ë¦¬ëŠ” ì‚¬ëŒ'ë“¤ì˜ ìë¦¬ì…ë‹ˆë‹¤.",
        "ê³„ë‹¨ ë‚œê°„ ë°‘ì„ ìì„¸íˆ ë³´ë©´, ì¡¸ì—…ìƒë“¤ì´ ë‚¨ê¸´ ë¹„ë°€ìŠ¤ëŸ¬ìš´ ë‚™ì„œë“¤ì´ ìˆ¨ê²¨ì ¸ ìˆìŠµë‹ˆë‹¤."
      ],
      'roof': [
        "5ì¸µ ë³µë„ ë, ë¹„ìƒê³„ë‹¨ ì˜† ì² ë¬¸.",
        "ê³µì‹ì ìœ¼ë¡œ ì´ê³³ì€ 'ì¶œì… ê¸ˆì§€ êµ¬ì—­'ì…ë‹ˆë‹¤.",
        "í•˜ì§€ë§Œ 2024ë…„, ë²Œì¨ ì„¸ ë²ˆì§¸ ìë¬¼ì‡ ê°€ í’€ë ¤ìˆëŠ” ê²ƒì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.",
        "ë°”ë‹¥ì—ëŠ” ë‹´ë°°ê½ì´ˆ ëŒ€ì‹ , ê³¼ì ë´‰ì§€ì™€ ë¹ˆ ìŒë£Œìˆ˜ ìº”ë§Œì´ ë©ê·¸ëŸ¬ë‹ˆ ë†“ì—¬ ìˆì—ˆìŠµë‹ˆë‹¤."
      ],
      'snow': [
        "2024ë…„ 12ì›” 3ì¼ ì˜¤ì „ 8ì‹œ 10ë¶„.",
        "ì°½ë°–ìœ¼ë¡œ ì²«ëˆˆì´ ìŸì•„ì§€ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.",
        "ë“±êµí•˜ë˜ í•™ìƒë“¤ì€ ë°œê±¸ìŒì„ ë©ˆì¶”ê³  1ì¸µ í˜„ê´€ì— ëª¨ì—¬ë“¤ì—ˆìŠµë‹ˆë‹¤.",
        "ë¯¸ìˆ ê³¼ í•™ìƒë“¤ì€ ê¸‰í•˜ê²Œ ìŠ¤ì¼€ì¹˜ë¶ì„ êº¼ë‚´ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤."
      ]
    };

    // ì”¨ì•— íš¨ê³¼
    setInterval(() => {
      const container = document.getElementById('seed-container');
      if (!container) return;
      const seed = document.createElement('div');
      seed.innerText = 'ğŸŒ±';
      seed.classList.add('seed');
      seed.style.left = Math.random() * 100 + '%';
      seed.style.animationDuration = (Math.random() * 3 + 2) + 's';
      seed.style.fontSize = (Math.random() * 15 + 10) + 'px';
      container.appendChild(seed);
      setTimeout(() => seed.remove(), 5000);
    }, 100);

    function tryLogin() {
      const input = document.getElementById('passwordInput');
      // ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ì´ archive ë˜ëŠ” ARCHIVE
      if (input.value.toUpperCase() === 'ARCHIVE') {
        document.getElementById('loginScreen').style.opacity = 0;
        setTimeout(() => {
          document.getElementById('loginScreen').style.display = 'none';
          runBootSequence();
        }, 800);
      } else {
        const msg = document.getElementById('errorMsg');
        msg.style.opacity = 1;
        setTimeout(() => msg.style.opacity = 0, 2000);
      }
    }

    document.getElementById('passwordInput').addEventListener('keypress', (e) => {
      if(e.key === 'Enter') tryLogin();
    });

    function runBootSequence() {
      const boot = document.getElementById('bootScreen');
      const main = document.getElementById('mainWrapper');
      const player = document.getElementById('musicPlayer');
      boot.style.display = 'block';
      
      const lines = [
        "INITIALIZING SYSTEM CORE...",
        "CONNECTING TO SECURE SERVER [PORT:9333]...",
        "VERIFYING ENCRYPTION KEY...",
        "DECRYPTING ARCHIVE DATA...",
        "ACCESS GRANTED."
      ];
      
      let delay = 0;
      lines.forEach((line, i) => {
        delay += 600;
        setTimeout(() => {
          boot.innerHTML += `> ${line}<br>`;
          if (i === lines.length - 1) {
            setTimeout(() => {
              boot.style.display = 'none';
              main.style.opacity = 1;
              player.style.opacity = 1;
            }, 800);
          }
        }, delay);
      });
    }

    /* === ìŠ¤í† ë¦¬ ë¦¬ë” ë¡œì§ === */
    let currentStory = [];
    let currentIndex = 0;
    let isTyping = false;

    function openStory(id) {
      if (!storyDB[id]) return;
      currentStory = storyDB[id];
      currentIndex = 0;
      const overlay = document.getElementById('storyOverlay');
      overlay.classList.add('active');
      showSentence();
    }

    function showSentence() {
      const textEl = document.getElementById('storyText');
      const progressEl = document.getElementById('storyProgress');
      progressEl.innerText = `0${currentIndex + 1} / 0${currentStory.length}`;
      textEl.innerHTML = "";
      
      setTimeout(() => {
        typeWriter(textEl, currentStory[currentIndex]);
      }, 300);
    }

    function typeWriter(element, text) {
      isTyping = true;
      let i = 0;
      element.innerHTML = '<span class="cursor"></span>';
      
      // ì†ë„ ì¡°ì ˆ: ê¸°ì¡´ 40ms -> 80ms (ëŠë¦¬ê²Œ)
      const timer = setInterval(() => {
        element.innerHTML = text.substring(0, i+1) + '<span class="cursor"></span>';
        i++;
        if (i === text.length) {
          clearInterval(timer);
          isTyping = false;
        }
      }, 80); // ì—¬ê¸° ìˆ«ìë¥¼ ë†’ì¼ìˆ˜ë¡ ë” ëŠë ¤ì§‘ë‹ˆë‹¤
    }

    function nextSentence() {
      if (isTyping) return;
      currentIndex++;
      if (currentIndex >= currentStory.length) {
        document.getElementById('storyOverlay').classList.remove('active');
      } else {
        showSentence();
      }
    }
  </script>
</body>
</html>
