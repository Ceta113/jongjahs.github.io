<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ï¢ÖÏûêÏòàÏà†Í≥†Îì±ÌïôÍµê ARCHIVE SYSTEM v4.0_DEEP</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=JetBrains+Mono:wght@400;700&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #9333ea;
      --primary-light: #d8b4fe;
      --danger: #ff003c;
      --bg-dark: #050505;
      --bg-panel: rgba(20, 20, 25, 0.75);
      --text-main: #e0e0e0;
      --shadow-bg: #0a0000; /* Ïã¨Ï∏µ Íµ¨Ïó≠ Î∞∞Í≤ΩÏÉâ */
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      background-color: var(--bg-dark);
      color: var(--text-main);
      font-family: 'Noto Sans KR', sans-serif;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
    }

    ::-webkit-scrollbar { width: 5px; }
    ::-webkit-scrollbar-track { background: #000; }
    ::-webkit-scrollbar-thumb { background: #444; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--primary); }

    /* === Î∞∞Í≤Ω Ìö®Í≥º === */
    #seed-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: hidden; }
    .seed { position: absolute; font-size: 20px; filter: hue-rotate(260deg) brightness(1.5) drop-shadow(0 0 8px var(--primary)); opacity: 0; animation: fall linear forwards; }
    @keyframes fall { 0% { transform: translateY(-50px) rotate(0deg); opacity: 0; } 10% { opacity: 0.8; } 100% { transform: translateY(105vh) rotate(360deg); opacity: 0; } }

    /* === ÎÆ§ÏßÅ ÌîåÎ†àÏù¥Ïñ¥ === */
    .music-player {
      position: fixed; bottom: 30px; left: 30px; width: 280px;
      background: rgba(10, 10, 15, 0.9); backdrop-filter: blur(10px);
      border: 1px solid rgba(147, 51, 234, 0.3); border-left: 3px solid var(--primary);
      padding: 15px 20px; z-index: 9000; display: flex; align-items: center; gap: 15px;
      transition: opacity 1s; opacity: 0; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    .album-art { width: 45px; height: 45px; background: linear-gradient(135deg, var(--primary), #000); border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
    .album-art.playing { animation: spin 4s linear infinite; }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    .track-info { flex: 1; overflow: hidden; }
    .track-title { font-family: 'JetBrains Mono'; font-size: 12px; color: #fff; }
    .visualizer { display: flex; align-items: flex-end; gap: 2px; height: 15px; margin-left: 5px; }
    .bar { width: 3px; background: var(--primary); height: 3px; transition: height 0.1s; }
    .playing .bar { animation: wave 0.5s infinite ease-in-out alternate; }
    .playing .bar:nth-child(1) { animation-delay: 0.1s; } .playing .bar:nth-child(2) { animation-delay: 0.3s; }
    @keyframes wave { 0% { height: 3px; } 100% { height: 15px; } }
    .ctrl-btn { background: none; border: none; color: var(--primary-light); cursor: pointer; font-size: 16px; margin-left: 5px; }

    /* === 1. Î°úÍ∑∏Ïù∏ ÌôîÎ©¥ === */
    .login-screen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
      background: radial-gradient(circle at center, #1a0b2e 0%, #000000 100%);
      display: flex; align-items: center; justify-content: center; z-index: 9999;
      transition: opacity 0.8s, visibility 0.8s;
    }
    .login-box {
      background: rgba(10, 10, 15, 0.85); border: 1px solid rgba(147, 51, 234, 0.5);
      padding: 60px 50px; width: 400px; border-radius: 4px; backdrop-filter: blur(10px);
      text-align: center;
    }
    .input-field {
      width: 100%; background: transparent; border: none;
      border-bottom: 2px solid #4c1d7a; color: #4c1d7a;
      font-size: 24px; text-align: center; padding: 10px;
      font-family: 'JetBrains Mono'; outline: none; margin-top: 30px; letter-spacing: 5px;
    }
    .login-btn {
      margin-top: 30px; background: var(--primary); color: #fff; border: none;
      padding: 12px 30px; font-family: 'JetBrains Mono'; cursor: pointer; font-weight: bold;
    }

    /* === 2. Î∂ÄÌåÖ ÌôîÎ©¥ === */
    .boot-screen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
      background: #05000a; z-index: 9500; display: none; padding: 40px;
      font-family: 'JetBrains Mono'; color: #c084fc; font-size: 13px; line-height: 1.6;
    }

    /* === 3. Î©îÏù∏ (Surface) Î†àÏù¥ÏïÑÏõÉ === */
    .main-wrapper {
      display: flex; height: 100vh; opacity: 0; transition: opacity 1s, transform 1s;
      background: radial-gradient(circle at 80% 20%, rgba(60, 20, 80, 0.2), transparent 60%);
      position: absolute; width: 100%; top: 0; left: 0; z-index: 100;
    }
    .main-wrapper.hidden { opacity: 0; pointer-events: none; transform: scale(1.1); filter: blur(10px); }

    .sidebar {
      width: 260px; border-right: 1px solid rgba(255, 255, 255, 0.1); padding: 30px;
      background: rgba(0,0,0,0.6); backdrop-filter: blur(10px); display: flex; flex-direction: column;
    }
    .menu-item {
      padding: 15px 0; color: #666; cursor: pointer; font-family: 'JetBrains Mono';
      border-bottom: 1px solid rgba(255,255,255,0.05); transition: 0.3s;
    }
    .menu-item.active { color: #fff; border-left: 2px solid var(--primary); padding-left: 10px; }
    
    .content-area { flex: 1; position: relative; overflow: hidden; }
    .section { display: none; padding: 50px 60px; height: 100%; overflow-y: auto; animation: fadeIn 0.4s ease-out; }
    .section.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* Worldview Ïä§ÌÉÄÏùº */
    .timeline-graph { display: flex; align-items: flex-end; gap: 8px; height: 150px; margin-bottom: 50px; border-bottom: 1px solid #444; }
    .t-bar { flex: 1; background: rgba(147, 51, 234, 0.2); position: relative; transition: height 1s; }
    .t-bar::after { content: attr(data-year); position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); font-size: 10px; color: #666; }
    
    .stats-container { display: flex; gap: 20px; margin-bottom: 50px; }
    .stat-box { flex: 1; background: var(--bg-panel); border: 1px solid rgba(255,255,255,0.1); padding: 20px; border-radius: 4px; }
    .stat-value { font-size: 32px; font-weight: 700; color: #fff; transition: 0.1s; }

    /* === 4. Ïã¨Ï∏µ Íµ¨Ïó≠ (Shadow/Deep) Î†àÏù¥ÏïÑÏõÉ === */
    .shadow-wrapper {
      position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
      background: #080000; /* ÏôÑÏ†Ñ Í≤ÄÎ∂âÏùÄ Î∞∞Í≤Ω */
      z-index: 200; display: none; opacity: 0; transition: opacity 1s;
      padding: 40px; overflow-y: auto;
      background-image: linear-gradient(rgba(20, 0, 0, 0.5) 1px, transparent 1px),
      linear-gradient(90deg, rgba(20, 0, 0, 0.5) 1px, transparent 1px);
      background-size: 20px 20px;
    }
    .shadow-wrapper.active { display: block; opacity: 1; }
    
    .shadow-header {
      border-bottom: 2px solid var(--danger); padding-bottom: 20px; margin-bottom: 40px;
      display: flex; justify-content: space-between; align-items: center;
    }
    .back-btn {
      background: transparent; border: 1px solid var(--danger); color: var(--danger);
      padding: 10px 20px; font-family: 'JetBrains Mono'; cursor: pointer; transition: 0.3s;
    }
    .back-btn:hover { background: var(--danger); color: #000; }

    .shadow-section { margin-bottom: 60px; }
    .shadow-title { color: var(--danger); font-family: 'JetBrains Mono'; font-size: 18px; margin-bottom: 20px; border-left: 5px solid var(--danger); padding-left: 15px; }

    .log-row { font-family: 'JetBrains Mono'; font-size: 13px; color: #888; border-bottom: 1px solid #222; padding: 8px 0; }
    .log-row.critical { color: var(--danger); font-weight: bold; }
    .log-row.secret { color: #444; text-decoration: line-through; }

    /* 1Í∏â Í∏∞Î∞Ä ÏûÖÎ†•ÎûÄ (Ïã¨Ï∏µ Íµ¨Ïó≠ ÌïòÎã®) */
    .root-terminal {
      background: #000; border: 1px solid var(--danger); padding: 30px; margin-top: 50px;
    }
    .cmd-line { display: flex; align-items: center; gap: 10px; font-family: 'JetBrains Mono'; font-size: 16px; }
    .cmd-input {
      flex: 1; background: transparent; border: none; color: var(--danger); font-family: 'JetBrains Mono'; font-size: 16px; outline: none;
    }

    /* === Ïä§ÌÜ†Î¶¨ Î¶¨Îçî === */
    .story-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.95); z-index: 10000;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      opacity: 0; pointer-events: none; transition: opacity 0.8s;
    }
    .story-overlay.active { opacity: 1; pointer-events: auto; }
    .story-overlay.horror { background: #1a0000; }
    .story-overlay.horror .story-text { color: var(--danger); text-shadow: 2px 2px 0 #000; font-family: 'JetBrains Mono'; }
    .story-text {
      font-family: 'Noto Serif KR', serif; font-size: 24px; line-height: 1.8;
      color: #fff; text-align: center; max-width: 800px; min-height: 120px;
    }
    .cursor::after { content: '|'; animation: blink 0.8s infinite; }
    @keyframes blink { 50% { opacity: 0; } }

  </style>
</head>
<body>

  <!-- üéµ ÎÆ§ÏßÅ ÌîåÎ†àÏù¥Ïñ¥ -->
  <div class="music-player" id="musicPlayer">
    <div class="album-art" id="albumArt">üéµ</div>
    <div class="track-info">
      <div class="track-title" id="trackTitle">System Offline</div>
      <div class="visualizer" id="visualizer">
        <div class="bar"></div><div class="bar"></div><div class="bar"></div>
      </div>
    </div>
    <button class="ctrl-btn" onclick="togglePlay()" id="playBtn">‚ñ∂</button>
    <audio id="audioSource"></audio>
  </div>
 <script>
    /* === 1. ÏãúÏä§ÌÖú Ï¥àÍ∏∞Ìôî & Î°úÍ∑∏Ïù∏ === */
    const pwdInput = document.getElementById('passwordInput');
    pwdInput.addEventListener('input', function() {
      const len = this.value.length;
      const light = 30 + (len * 7);
      this.style.color = `hsl(270, 100%, ${light}%)`;
      this.style.borderBottomColor = `hsl(270, 100%, ${light}%)`;
      if(len > 0) {
        this.style.textShadow = `0 0 ${len*2}px var(--primary)`;
      } else {
        this.style.textShadow = 'none';
      }
    });

    function tryLogin() {
      const val = document.getElementById('passwordInput').value.toUpperCase();
      if(val === 'ARCHIVE') {
        document.getElementById('loginScreen').style.opacity = 0;
        setTimeout(() => {
          document.getElementById('loginScreen').style.display = 'none';
          runBoot();
        }, 800);
      } else {
        const msg = document.getElementById('errorMsg');
        msg.style.opacity = 1;
        setTimeout(()=>msg.style.opacity=0, 2000);
      }
    }
    document.getElementById('passwordInput').addEventListener('keypress', (e)=>{if(e.key==='Enter') tryLogin()});

    function runBoot() {
      const boot = document.getElementById('bootScreen');
      const main = document.getElementById('mainWrapper');
      const player = document.getElementById('musicPlayer');
      boot.style.display = 'block';
      
      const lines = ["SYSTEM INIT...", "CONNECTING TO WHALE SERVER...", "DECRYPTING LOGS...", "ACCESS GRANTED."];
      let delay = 0;
      lines.forEach((line, i) => {
        delay += 500;
        setTimeout(() => {
          boot.innerHTML += `> ${line}<br>`;
          if(i === lines.length-1) {
            setTimeout(() => {
              boot.style.display = 'none';
              main.style.opacity = 1;
              player.style.opacity = 1;
            }, 800);
          }
        }, delay);
      });
    }

    /* === 2. ÌÉ≠ Ï†ÑÌôò === */
    function switchTab(id, el) {
      document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
      el.classList.add('active');
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById('section-' + id).classList.add('active');
    }


  <!-- 3. Î©îÏù∏ (Surface) ÌôîÎ©¥ -->
  <div class="main-wrapper" id="mainWrapper">
    <aside class="sidebar">
      <div>
        <h2 style="font-size:14px; color:#fff; margin-bottom:30px;">JONGJA ARCHIVE</h2>
        <div class="menu-item active" onclick="switchTab('worldview', this)">WORLDVIEW</div>
        <div class="menu-item" onclick="switchTab('connection', this)">CONNECTION</div>
        <div class="menu-item" onclick="switchTab('login', this)">SYSTEM LOGS</div>
      </div>
      <div style="font-size:10px; color:#555; margin-top:auto;">SERVER: ONLINE</div>
    </aside>

    <main class="content-area">
      <!-- ÌÉ≠ 1: WORLDVIEW -->
      <section id="section-worldview" class="section active">
        <h2 style="color:#fff; margin-bottom:10px;">üåç WORLDVIEW</h2>
        <p style="color:#888; margin-bottom:40px;">ÌïôÍµêÏùò Í≥µÍ∞ú Îç∞Ïù¥ÌÑ∞ÏûÖÎãàÎã§.</p>
        
        <div class="timeline-graph">
          <div class="t-bar" style="height:30%;" data-year="1987"></div>
          <div class="t-bar" style="height:80%; background:#c084fc;" data-year="2018"></div>
          <div class="t-bar" style="height:20%; background:#555;" data-year="2024"></div>
        </div>

        <div class="stats-container">
          <div class="stat-box">
            <span style="font-size:12px; color:#d8b4fe; display:block;">CURRENT STUDENTS</span>
            <span class="stat-value">632</span>
          </div>
          <div class="stat-box">
            <span style="font-size:12px; color:#d8b4fe; display:block;">TOTAL GRADUATES</span>
            <!-- 2000 -> 0 Í∏ÄÎ¶¨Ïπò -->
            <span class="stat-value" id="gradCounter">2000</span>
          </div>
        </div>
      </section>

      <!-- ÌÉ≠ 2: CONNECTION -->
      <section id="section-connection" class="section">
        <h2 style="color:#fff; margin-bottom:40px;">üîó CONNECTION</h2>
        <div style="border-left:3px solid #555; padding:20px; background:rgba(255,255,255,0.03); margin-bottom:10px;">
          <h4 style="color:#fff;">Ïî®Îã§Í≥†Îì±ÌïôÍµê</h4> <span style="color:#c084fc; font-size:12px;">CONNECTED</span>
        </div>
        <div style="border-left:3px solid var(--primary); padding:20px; background:rgba(255,255,255,0.03);">
          <h4 style="color:#fff;">Í≥†ÎûòÏª¥ÌçºÎãà</h4> <span style="color:#c084fc; font-size:12px;">MAIN SPONSOR</span>
        </div>
      </section>

      <!-- ÌÉ≠ 3: SYSTEM LOGS (Î°úÍ∑∏Ïù∏Îßå Ï°¥Ïû¨) -->
      <section id="section-login" class="section">
        <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%;">
          <h2 style="color:#ff003c; margin-bottom:20px;">üîí RESTRICTED AREA</h2>
          <p style="color:#888; font-size:12px; margin-bottom:20px;">ENTER ADMIN KEY TO ACCESS DEEP LAYER</p>
          <input type="password" id="seedInput" style="background:transparent; border:none; border-bottom:1px solid #ff003c; color:#fff; text-align:center; padding:10px; font-family:'JetBrains Mono'; font-size:20px; outline:none;" placeholder="Admin Key">
        </div>
      </section>
    </main>
  </div>

  <!-- 4. Ïã¨Ï∏µ Íµ¨Ïó≠ (Deep/Shadow) ÌôîÎ©¥ -->
  <div class="shadow-wrapper" id="shadowWrapper">
    <header class="shadow-header">
      <h1 style="color:var(--danger); font-family:'JetBrains Mono'; font-size:24px;">/// ROOT_ACCESS_GRANTED</h1>
      <button class="back-btn" onclick="exitShadowMode()">&lt; DISCONNECT</button>
    </header>

    <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ 1: ÏãúÏä§ÌÖú Ïª§ÎÑê -->
    <div class="shadow-section">
      <div class="shadow-title">01. SYSTEM KERNEL</div>
      <div class="log-row critical">[CRITICAL] Graduation Protocol: SUSPENDED INDEFINITELY.</div>
      <div class="log-row">[INFO] 'Incubator' mode active since 1987.</div>
      <div class="log-row secret">Target Data: Human Emotion & Creativity -> Uploading to Whale Server.</div>
    </div>

    <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ 2: Ïã§ÌóòÏ≤¥ Îç∞Ïù¥ÌÑ∞ -->
    <div class="shadow-section">
      <div class="shadow-title">02. SUBJECTS DATA (CORRUPTED)</div>
      <div class="log-row">Subject #001 (Kim): Sleep deprivation induced. Sketchbook analysis complete.</div>
      <div class="log-row">Subject #002 (Lee): Auditory hallucination confirmed.</div>
      <div class="log-row critical">Subject 'Escaper': Whereabouts unknown.</div>
    </div>

    <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ 3: ÌÑ∞ÎØ∏ÎÑê (1Í∏â Í∏∞Î∞Ä ÏûÖÎ†•) -->
    <div class="root-terminal">
      <p style="color:var(--danger); font-family:'JetBrains Mono'; font-size:12px; margin-bottom:15px;">
        WARNING: LEVEL 1 CLASSIFIED INFORMATION.<br>
        ENTER AUTHORIZATION CODE TO PROCEED.
      </p>
      <div class="cmd-line">
        <span>ROOT@DEEP:~$</span>
        <input type="text" id="deepInput" class="cmd-input" placeholder="Enter Code..." autocomplete="off">
      </div>
    </div>
  </div>

  <!-- Ïä§ÌÜ†Î¶¨ Î¶¨Îçî -->
  <div class="story-overlay" id="storyOverlay" onclick="nextSentence()">
    <div style="position:absolute; top:40px; right:40px; color:#fff; font-family:'JetBrains Mono';" id="storyProgress"></div>
    <div class="story-text" id="storyText"></div>
    <div style="position:absolute; bottom:50px; color:#666; font-family:'JetBrains Mono'; font-size:12px; animation:blink 1.5s infinite;">CLICK TO CONTINUE</div>
  </div>

  <script>
    /* === 1. Î°úÍ∑∏Ïù∏ (Surface ÏßÑÏûÖ) === */
    const pwdInput = document.getElementById('passwordInput');
    pwdInput.addEventListener('input', function() {
      const len = this.value.length;
      const light = 30 + (len * 7);
      this.style.color = `hsl(270, 100%, ${light}%)`;
      this.style.borderBottomColor = `hsl(270, 100%, ${light}%)`;
      if(len > 0) this.style.textShadow = `0 0 ${len*2}px var(--primary)`;
      else this.style.textShadow = 'none';
    });

    function tryLogin() {
      if(pwdInput.value.toUpperCase() === 'ARCHIVE') {
        document.getElementById('loginScreen').style.opacity = 0;
        setTimeout(() => {
          document.getElementById('loginScreen').style.display = 'none';
          runBoot();
        }, 800);
      } else {
        const msg = document.getElementById('errorMsg');
        msg.style.opacity = 1; setTimeout(()=>msg.style.opacity=0, 2000);
      }
    }
    pwdInput.addEventListener('keypress', (e)=>{if(e.key==='Enter') tryLogin()});

    function runBoot() {
      const boot = document.getElementById('bootScreen');
      boot.style.display = 'block';
      setTimeout(() => {
        boot.style.display = 'none';
        document.getElementById('mainWrapper').style.opacity = 1;
        document.getElementById('musicPlayer').style.opacity = 1;
      }, 2000); // 2Ï¥à Î∂ÄÌåÖ
    }

    /* === 2. Î©îÏù∏ ÌÉ≠ Ï†ÑÌôò === */
    function switchTab(id, el) {
      document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
      el.classList.add('active');
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById('section-' + id).classList.add('active');
    }

    /* === 3. Deep Layer Ï†ÑÌôò (Seed) === */
    const seedInput = document.getElementById('seedInput');
    seedInput.addEventListener('input', function() {
      if(this.value === 'Seed') {
        enterShadowMode();
        this.value = ''; // ÏûÖÎ†• Ï¥àÍ∏∞Ìôî
      }
    });

    function enterShadowMode() {
      const main = document.getElementById('mainWrapper');
      const shadow = document.getElementById('shadowWrapper');
      
      main.classList.add('hidden'); // Î©îÏù∏ Ïà®ÍπÄ (Î∏îÎü¨ Ï≤òÎ¶¨)
      shadow.classList.add('active'); // Ïã¨Ï∏µ Íµ¨Ïó≠ ÌëúÏãú
    }

    function exitShadowMode() {
      const main = document.getElementById('mainWrapper');
      const shadow = document.getElementById('shadowWrapper');
      
      shadow.classList.remove('active');
      main.classList.remove('hidden');
    }

    /* === 4. 1Í∏â Í∏∞Î∞Ä ÏΩîÎìú (Deep Layer ÌïòÎã®) === */
    const deepInput = document.getElementById('deepInput');
    deepInput.addEventListener('keypress', function(e) {
      if(e.key === 'Enter') {
        const cmd = this.value.toUpperCase();
        if(cmd === 'ESCAPER') openStory('escaper');
        else if(cmd === 'REPACSE') openStory('repacse');
        else {
          this.value = "ACCESS DENIED";
          setTimeout(() => this.value="", 1000);
        }
      }
    });

    /* === 6. ÎÆ§ÏßÅ ÌîåÎ†àÏù¥Ïñ¥ ÎπÑÏ£ºÏñºÎùºÏù¥Ï†Ä === */
    let isPlaying = false;
    const playlist = [{t:"Main Theme", a:"System"}, {t:"Piano Practice", a:"Lee Jun-hyeok"}];
    let trackIdx = 0;
    
    function togglePlay() {
      isPlaying = !isPlaying;
      const btn = document.getElementById('playBtn');
      const art = document.getElementById('albumArt');
      const visualizer = document.getElementById('visualizer');
      
      if(isPlaying) {
        btn.innerText = "‚è∏";
        art.classList.add('playing');
        visualizer.classList.add('playing'); // ÌååÌòï ÏõÄÏßÅÏûÑ ÏãúÏûë
      } else {
        btn.innerText = "‚ñ∂";
        art.classList.remove('playing');
        visualizer.classList.remove('playing'); // ÌååÌòï Î©àÏ∂§
      }
    }

    /* === 7. Ïä§ÌÜ†Î¶¨ Î¶¨Îçî === */
    const storyDB = {
      'kim': ["ÍπÄÏÑúÏú§. ÎØ∏Ïà†Í≥º 2ÌïôÎÖÑ.", "ÏÉàÎ≤Ω Îì±ÍµêÎ•º Î∞òÎ≥µÌïòÍ≥† ÏûàÏäµÎãàÎã§.", "Í∑∏ÎÖÄÏùò Ïä§ÏºÄÏπòÎ∂ÅÏóêÎäî ÌïôÍµêÍ∞Ä Î¨¥ÎÑàÏßÄÎäî Í∑∏Î¶ºÎßå Í∑∏Î†§Ï†∏ ÏûàÏäµÎãàÎã§."],
      'lee': ["Ïù¥Ï§ÄÌòÅ. ÏùåÏïÖÍ≥º 3ÌïôÎÖÑ.", "7Î≤à Ïó∞ÏäµÏã§ÏóêÏÑú ÎÇòÏò§ÏßÄ ÏïäÏäµÎãàÎã§.", "Í∑∏Í∞Ä Ïó∞Ï£ºÌïòÎäî Í≥°ÏùÄ ÏïÖÎ≥¥Ïóê ÏóÜÎäî Í≥°ÏûÖÎãàÎã§."],
      'stairs': ["Ï§ëÏïô Í≥ÑÎã®.", "Í∏∞Îã§Î¶¨Îäî ÌïôÏÉùÎì§ÏùÄ ÎßéÏßÄÎßå, Ï†ïÏûë ÎßåÎÇòÎäî ÏÇ¨ÎûåÏùÄ ÏóÜÏäµÎãàÎã§.", "Í∑∏Îì§ÏùÄ ÎàÑÍµ¨Î•º Í∏∞Îã§Î¶¨Îäî Í±∏ÍπåÏöî?"],
      'snow': ["12Ïõî 3Ïùº Ï≤´Îàà.", "ÌïôÏÉùÎì§ÏùÄ ÎààÏùÑ Î≥¥Î©∞ Ï¢ãÏïÑÌñàÏßÄÎßå,", "ÍµêÏÇ¨Îì§ÏùÄ Ï∞ΩÎ¨∏ÏùÑ Î™®Îëê Ïû†Í∞îÏäµÎãàÎã§."],
      'escaper': [
        "ÏΩîÎìúÎÑ§ÏûÑ: ESCAPER Ï†ëÍ∑º ÏäπÏù∏.",
        "Î≥∏ÍµêÏùò Ï°∏ÏóÖÎ•†Ïù¥ 0%Ïù∏ Ïù¥Ïú†Îäî Í∞ÑÎã®Ìï©ÎãàÎã§.",
        "Ïù¥ ÌïôÍµêÎäî Ïù∏ÌÅêÎ≤†Ïù¥ÌÑ∞ÏûÖÎãàÎã§.",
        "ÌïôÏÉùÎì§Ïùò Í∞êÏ†ïÍ≥º ÏòÅÍ∞êÏùÑ Îç∞Ïù¥ÌÑ∞Î°ú Ï∂îÏ∂úÌïòÏó¨ Í≥†ÎûòÏª¥ÌçºÎãàÏóê Ï†ÑÏÜ°Ìï©ÎãàÎã§.",
        "Ï°∏ÏóÖÏùÄ Í≥ß 'ÌèêÍ∏∞'Î•º ÏùòÎØ∏Ìï©ÎãàÎã§.",
        "Ïö∞Î¶¨Îäî Ï°∏ÏóÖÌïòÏßÄ ÏïäÍ∏∞ ÏúÑÌï¥ Î≤ÑÌã∞Í≥† ÏûàÎäî Í≤ÉÏûÖÎãàÎã§."
      ],
      'repacse': [
        "ÏÇ¥Î†§Ï§ò.", "Ïó¨Í∏∞ÏÑú ÎÇòÍ∞ÄÏïº Ìï¥.", "Î≤Ω ÏÜçÏóê ÎààÏù¥ ÏûàÏñ¥.",
        "ÏÑ†ÏÉùÎãòÎì§ÏùÄ ÏÇ¨ÎûåÏù¥ ÏïÑÎãàÏïº.", "ÏßÄÌïò 2Ï∏µ Ïã§ÌóòÏã§Î°ú ÎÅåÎ†§Í∞îÏñ¥.",
        "ÎèÑÎßùÏ≥ê.", "Ï†àÎåÄ Ï°∏ÏóÖ ÏûëÌíàÏùÑ ÏôÑÏÑ±ÌïòÏßÄ Îßà.",
        "SYSTEM CRITICAL ERROR..."
      ]
    };
    
    /* === 6. Í∏ÄÎ¶¨Ïπò (2000 -> 0) === */
    setInterval(() => {
      const el = document.getElementById('gradCounter');
      // 95% ÌôïÎ•†Î°ú 2000, 5% ÌôïÎ•†Î°ú 0
      if(Math.random() > 0.95) {
        el.innerText = "0";
        el.style.color = "#ff003c";
        el.style.textShadow = "2px 0 red";
      } else {
        el.innerText = "2000";
        el.style.color = "#fff";
        el.style.textShadow = "none";
      }
    }, 100);

   let curStory = [];
    let curIdx = 0;
    let typing = false;

    function openStory(id) {
      if(!storyDB[id]) return;
      curStory = storyDB[id];
      curIdx = 0;
      const ov = document.getElementById('storyOverlay');
      ov.classList.add('active');
      if(id === 'repacse') ov.classList.add('horror');
      else ov.classList.remove('horror');
      showText();
    }

    function showText() {
      const t = document.getElementById('storyText');
      const p = document.getElementById('storyProgress');
      p.innerText = `REC ${curIdx+1}/${curStory.length}`;
      t.innerHTML = "";
      setTimeout(() => {
        startTyping(t, curStory[curIdx]);
      }, 200);
    }

    function startTyping(el, txt) {
      typing = true;
      let i = 0;
      el.innerHTML = '<span class="cursor"></span>';
      const timer = setInterval(() => {
        el.innerHTML = txt.substring(0, i+1) + '<span class="cursor"></span>';
        i++;
        if(i === txt.length) { clearInterval(timer); typing = false; }
      }, 70);
    }

    function nextSentence() {
      if(typing) return;
      curIdx++;
      if(curIdx >= curStory.length) document.getElementById('storyOverlay').classList.remove('active');
      else showText();
    }

    // Î∞∞Í≤Ω Ïî®Ïïó
    setInterval(() => {
      const c = document.getElementById('seed-container');
      const s = document.createElement('div');
      s.innerText = 'üå±'; s.className = 'seed';
      s.style.left = Math.random()*100+'%';
      s.style.animationDuration = (Math.random()*3+2)+'s';
      c.appendChild(s);
      setTimeout(()=>s.remove(), 5000);
    }, 150);

  </script>
</body>
</html>
