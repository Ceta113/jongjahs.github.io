<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¢…ìì˜ˆìˆ ê³ ë“±í•™êµ ARCHIVE SYSTEM v3.0</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=JetBrains+Mono:wght@400;700&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #9333ea;
      --primary-light: #d8b4fe;
      --primary-dim: #4c1d7a;
      --accent: #c084fc;
      --danger: #ff003c; /* ê²½ê³ /ì˜¤ë¥˜ìš© ë¹¨ê°• */
      --bg-dark: #050505;
      --bg-panel: rgba(20, 20, 25, 0.7);
      --text-main: #e0e0e0;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      background-color: var(--bg-dark);
      color: var(--text-main);
      font-family: 'Noto Sans KR', sans-serif;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
    }

    /* === ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í…€ === */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: #000; }
    ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--primary); }

    /* === ê³µí†µ ì• ë‹ˆë©”ì´ì…˜ & íš¨ê³¼ === */
    #seed-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: hidden; }
    .seed { position: absolute; font-size: 20px; filter: hue-rotate(260deg) brightness(1.5) drop-shadow(0 0 8px var(--primary)); opacity: 0; animation: fall linear forwards; }
    @keyframes fall { 0% { transform: translateY(-50px) rotate(0deg); opacity: 0; } 10% { opacity: 0.8; } 100% { transform: translateY(105vh) rotate(360deg); opacity: 0; } }

    /* ê¸€ë¦¬ì¹˜ íš¨ê³¼ */
    .glitch { position: relative; }
    .glitch::before, .glitch::after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-dark); }
    .glitch::before { left: 2px; text-shadow: -1px 0 red; clip: rect(24px, 550px, 90px, 0); animation: glitch-anim 3s infinite linear alternate-reverse; }
    .glitch::after { left: -2px; text-shadow: -1px 0 blue; clip: rect(85px, 550px, 140px, 0); animation: glitch-anim 2s infinite linear alternate-reverse; }
    @keyframes glitch-anim { 0% { clip: rect(10px, 9999px, 30px, 0); } 100% { clip: rect(80px, 9999px, 100px, 0); } }

    /* === 1. ë®¤ì§ í”Œë ˆì´ì–´ === */
    .music-player {
      position: fixed; bottom: 30px; left: 30px; width: 280px;
      background: rgba(10, 10, 15, 0.85); backdrop-filter: blur(10px);
      border: 1px solid rgba(147, 51, 234, 0.3); border-left: 3px solid var(--primary);
      padding: 15px 20px; z-index: 500; display: flex; align-items: center; gap: 15px;
      transition: opacity 1s; opacity: 0;
    }
    .album-art { width: 45px; height: 45px; background: linear-gradient(135deg, var(--primary), #000); border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
    .album-art.playing { animation: spin 4s linear infinite; }
    .track-info { flex: 1; overflow: hidden; }
    .track-title { font-family: 'JetBrains Mono'; font-size: 12px; color: #fff; }
    .track-artist { font-size: 10px; color: #888; }
    .ctrl-btn { background: none; border: none; color: var(--primary-light); cursor: pointer; font-size: 14px; }
    @keyframes spin { 100% { transform: rotate(360deg); } }

    /* === 2. ë©”ì¸ ë¡œê·¸ì¸ í™”ë©´ === */
    .login-screen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
      background: radial-gradient(circle at center, #1a0b2e 0%, #000000 100%);
      display: flex; align-items: center; justify-content: center; z-index: 9999;
      transition: opacity 0.8s, visibility 0.8s;
    }
    .login-box {
      background: rgba(10, 10, 15, 0.8); border: 1px solid rgba(147, 51, 234, 0.5);
      padding: 60px 50px; width: 400px; border-radius: 4px; backdrop-filter: blur(10px);
      text-align: center; position: relative; z-index: 10;
    }
    .input-field {
      width: 100%; background: transparent; border: none;
      border-bottom: 2px solid var(--primary-dim); color: var(--primary-dim);
      font-size: 24px; text-align: center; padding: 10px;
      font-family: 'JetBrains Mono', monospace; outline: none; margin-top: 30px;
      transition: all 0.1s; letter-spacing: 5px;
    }
    .login-btn {
      margin-top: 30px; background: var(--primary); color: #fff; border: none;
      padding: 12px 30px; font-family: 'JetBrains Mono', monospace; cursor: pointer; font-weight: bold;
    }

    /* === 3. ë¶€íŒ… í™”ë©´ === */
    .boot-screen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
      background: #05000a; z-index: 9000; display: none; padding: 40px;
      font-family: 'JetBrains Mono', monospace; color: var(--accent); font-size: 13px; line-height: 1.6;
    }

    /* === 4. ë©”ì¸ ë ˆì´ì•„ì›ƒ (ì¢Œì¸¡ ë©”ë‰´ + ìš°ì¸¡ ì»¨í…ì¸ ) === */
    .main-wrapper {
      display: flex; height: 100vh; opacity: 0; transition: opacity 1s;
      background: radial-gradient(circle at 80% 20%, rgba(60, 20, 80, 0.2), transparent 60%);
    }
    .sidebar {
      width: 260px; border-right: 1px solid rgba(255, 255, 255, 0.1); padding: 30px;
      background: rgba(0,0,0,0.6); backdrop-filter: blur(10px); display: flex; flex-direction: column;
    }
    .menu-item {
      padding: 15px 0; color: #666; cursor: pointer; font-family: 'JetBrains Mono', monospace;
      border-bottom: 1px solid rgba(255,255,255,0.05); transition: 0.3s;
    }
    .menu-item:hover { color: #aaa; }
    .menu-item.active { color: #fff; border-left: 2px solid var(--primary); padding-left: 10px; text-shadow: 0 0 10px var(--primary); }
    
    .content-area { flex: 1; position: relative; overflow: hidden; }
    
    /* ê°œë³„ ì„¹ì…˜ (íƒ­ ê¸°ëŠ¥) */
    .section {
      display: none; padding: 50px 60px; height: 100%; overflow-y: auto;
      animation: fadeIn 0.5s ease-out;
    }
    .section.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .section-header { margin-bottom: 40px; border-bottom: 1px solid rgba(147,51,234,0.3); padding-bottom: 20px; }
    .section-header h2 { font-size: 28px; color: #fff; display: flex; align-items: center; gap: 10px; }
    .section-header p { color: #888; margin-top: 10px; font-size: 14px; }

    /* === [íƒ­ 1] WORLDVIEW ìŠ¤íƒ€ì¼ === */
    /* íƒ€ì„ë¼ì¸ ê·¸ë˜í”„ ìŠ¤íƒ€ì¼ */
    .timeline-graph {
      display: flex; align-items: flex-end; gap: 5px; height: 150px; margin: 30px 0 50px 0;
      border-bottom: 1px solid #444; padding-bottom: 5px;
    }
    .t-bar {
      flex: 1; background: rgba(147, 51, 234, 0.2); transition: height 1s; position: relative;
    }
    .t-bar:hover { background: var(--primary); }
    .t-bar::after {
      content: attr(data-year); position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%);
      font-size: 10px; color: #666; font-family: 'JetBrains Mono';
    }

    /* í†µê³„ ë°•ìŠ¤ */
    .stats-container { display: flex; gap: 20px; margin-bottom: 50px; }
    .stat-box {
      flex: 1; background: var(--bg-panel); border: 1px solid rgba(255,255,255,0.1); padding: 20px;
      border-radius: 4px;
    }
    .stat-label { font-size: 12px; color: var(--primary-light); font-family: 'JetBrains Mono'; display: block; margin-bottom: 5px; }
    .stat-value { font-size: 32px; font-weight: 700; color: #fff; }
    .stat-value.glitching { color: var(--danger); text-shadow: 2px 0 red, -2px 0 blue; }

    /* ì¼ë°˜ ì¹´ë“œ ê·¸ë¦¬ë“œ */
    .card-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
    .card {
      background: var(--bg-panel); border: 1px solid rgba(255, 255, 255, 0.1); padding: 25px;
      cursor: pointer; transition: 0.3s;
    }
    .card:hover { transform: translateY(-5px); border-color: var(--primary); background: rgba(40,40,50,0.9); }
    .card .tag { font-family: 'JetBrains Mono'; font-size: 10px; color: var(--primary-light); display: block; margin-bottom: 15px; }

    /* === [íƒ­ 2] SYSTEM LOGS (ë¹„ë°€) ìŠ¤íƒ€ì¼ === */
    .log-login-overlay {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(5, 5, 5, 0.95); z-index: 10;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
    }
    .log-content { filter: blur(10px); transition: 0.5s; pointer-events: none; } /* ì ê²¼ì„ ë•Œ ë¸”ëŸ¬ */
    .unlocked .log-content { filter: none; pointer-events: auto; }
    .unlocked .log-login-overlay { display: none; }

    .terminal-log {
      font-family: 'JetBrains Mono', monospace; font-size: 12px; line-height: 1.6;
      color: #aaa; background: rgba(0,0,0,0.5); padding: 20px; border: 1px solid #333; height: 400px; overflow-y: auto;
    }
    .log-entry { margin-bottom: 10px; border-bottom: 1px solid #222; padding-bottom: 5px; }
    .log-date { color: var(--primary); margin-right: 10px; }
    .log-msg { color: #ddd; }
    .log-msg.classified { color: #555; text-decoration: line-through; } /* ê¸°ë°€ ì²˜ë¦¬ */
    .log-msg.warning { color: var(--danger); font-weight: bold; }

    .secret-input-area { margin-top: 20px; border-top: 1px solid #333; padding-top: 20px; }
    .secret-input {
      width: 100%; background: #111; border: 1px solid #333; color: var(--danger);
      padding: 10px; font-family: 'JetBrains Mono';
    }

    /* === [íƒ­ 3] CONNECTION ìŠ¤íƒ€ì¼ === */
    .connection-card {
      display: flex; align-items: center; gap: 20px; background: rgba(255,255,255,0.03);
      padding: 20px; margin-bottom: 15px; border-left: 3px solid #555; transition: 0.3s;
    }
    .connection-card:hover { border-left-color: var(--primary); background: rgba(147, 51, 234, 0.1); }
    .conn-icon { font-size: 24px; opacity: 0.7; }
    .conn-info h4 { color: #fff; margin-bottom: 5px; }
    .conn-info p { font-size: 12px; color: #888; }


    /* === 5. ìŠ¤í† ë¦¬ ë¦¬ë” (ì˜¤ë²„ë ˆì´) === */
    .story-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.95); z-index: 10000;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      opacity: 0; pointer-events: none; transition: opacity 0.8s;
    }
    .story-overlay.active { opacity: 1; pointer-events: auto; }
    
    /* REPACSE ì…ë ¥ ì‹œ ê³µí¬ ëª¨ë“œ */
    .story-overlay.horror-mode {
      background: #1a0000; /* ë¶‰ì€ ë°°ê²½ */
    }
    .story-overlay.horror-mode .story-text {
      color: var(--danger); text-shadow: 2px 2px 0px #000; font-family: 'JetBrains Mono';
    }

    .story-text {
      font-family: 'Noto Serif KR', serif; font-size: 24px; line-height: 1.8;
      color: #fff; text-align: center; max-width: 800px; min-height: 120px;
    }
    .cursor::after { content: '|'; animation: blink 0.8s infinite; }
    @keyframes blink { 50% { opacity: 0; } }

  </style>
</head>
<body>

  <!-- ğŸµ ë®¤ì§ í”Œë ˆì´ì–´ -->
  <div class="music-player" id="musicPlayer">
    <div class="album-art" id="albumArt">ğŸµ</div>
    <div class="track-info">
      <div class="track-title" id="trackTitle">System Offline</div>
      <div class="track-artist" id="trackArtist">No Connection</div>
    </div>
    <div class="controls">
      <button class="ctrl-btn" onclick="prevTrack()">â®</button>
      <button class="ctrl-btn" onclick="togglePlay()" id="playBtn">â–¶</button>
      <button class="ctrl-btn" onclick="nextTrack()">â­</button>
    </div>
    <audio id="audioSource"></audio>
  </div>

  <!-- 1. ë©”ì¸ ë¡œê·¸ì¸ í™”ë©´ -->
  <div class="login-screen" id="loginScreen">
    <div id="seed-container"></div>
    <div class="login-box">
      <div class="school-logo">
        <h1 class="glitch" data-text="ì¢…ìì˜ˆìˆ ê³ ë“±í•™êµ">ì¢…ìì˜ˆìˆ ê³ ë“±í•™êµ</h1>
        <p>SECURE ARCHIVE SYSTEM v3.0</p>
      </div>
      <input type="password" id="passwordInput" class="input-field" placeholder="ACCESS CODE" maxlength="10">
      <button class="login-btn" onclick="tryLogin()">CONNECT</button>
      <div id="errorMsg" style="color: #ff4d4d; font-size: 12px; margin-top: 15px; opacity: 0;">âš ï¸ ACCESS DENIED</div>
    </div>
  </div>

  <!-- 2. ë¶€íŒ… í™”ë©´ -->
  <div class="boot-screen" id="bootScreen"></div>

  <!-- 3. ë©”ì¸ ì¸í„°í˜ì´ìŠ¤ -->
  <div class="main-wrapper" id="mainWrapper">
    <!-- ì¢Œì¸¡ ì‚¬ì´ë“œë°” ë©”ë‰´ -->
    <aside class="sidebar">
      <div>
        <h2 style="font-size: 14px; color: #fff; margin-bottom: 30px; letter-spacing: 2px;">JONGJA ARCHIVE</h2>
        <!-- íƒ­ ë²„íŠ¼ë“¤ -->
        <div class="menu-item active" onclick="switchTab('worldview', this)">WORLDVIEW</div>
        <div class="menu-item" onclick="switchTab('logs', this)">SYSTEM LOGS</div>
        <div class="menu-item" onclick="switchTab('connection', this)">CONNECTION</div>
      </div>
      <div style="font-size: 10px; color: #555; margin-top: auto;">
        SERVER: ONLINE<br>
        SECURITY: LEVEL 3
      </div>
    </aside>

    <!-- ìš°ì¸¡ ì»¨í…ì¸  ì˜ì—­ -->
    <main class="content-area">
      
      <!-- [íƒ­ 1] WORLDVIEW: ì„¸ê³„ê´€, íƒ€ì„ë¼ì¸, í†µê³„ -->
      <section id="section-worldview" class="section active">
        <div class="section-header">
          <h2>ğŸŒ WORLDVIEW <span style="font-size: 12px; background:var(--primary); padding:2px 6px; border-radius:4px; margin-left:10px;">PUBLIC</span></h2>
          <p>ì¢…ìì˜ˆìˆ ê³ ë“±í•™êµì˜ ê³µê°œëœ ì—­ì‚¬ì™€ í˜„í™© ë°ì´í„°ì…ë‹ˆë‹¤.</p>
        </div>

        <!-- íƒ€ì„ë¼ì¸ ê·¸ë˜í”„ (CSS êµ¬í˜„) -->
        <h3 style="color:#fff; font-size:16px;">YEARLY ACTIVITY</h3>
        <div class="timeline-graph">
          <div class="t-bar" style="height: 30%;" data-year="1987"></div>
          <div class="t-bar" style="height: 45%;" data-year="1995"></div>
          <div class="t-bar" style="height: 60%;" data-year="2005"></div>
          <div class="t-bar" style="height: 40%;" data-year="2012"></div>
          <div class="t-bar" style="height: 80%; background: #c084fc;" data-year="2018"></div>
          <div class="t-bar" style="height: 20%; background: #555;" data-year="2024"></div>
        </div>

        <!-- í†µê³„ (ì¡¸ì—…ìƒ ê¸€ë¦¬ì¹˜) -->
        <div class="stats-container">
          <div class="stat-box">
            <span class="stat-label">CURRENT STUDENTS</span>
            <span class="stat-value">632</span>
          </div>
          <div class="stat-box">
            <span class="stat-label">TOTAL GRADUATES</span>
            <!-- ì—¬ê¸°ê°€ ê¸€ë¦¬ì¹˜ë¡œ ë³€í•˜ëŠ” ìˆ«ì -->
            <span class="stat-value glitching" id="gradCounter">0</span>
          </div>
        </div>

        <h3 style="color:#fff; margin-bottom: 20px;">ARCHIVED RECORDS</h3>
        <div class="card-grid">
          <div class="card" onclick="openStory('kim')">
            <span class="tag">001. STUDENT</span>
            <h3>ê¹€ì„œìœ¤</h3>
            <p>ë¯¸ìˆ ê³¼ 2í•™ë…„. ìƒˆë²½ ë“±êµì™€ ìŠ¤ì¼€ì¹˜ë¶.</p>
          </div>
          <div class="card" onclick="openStory('lee')">
            <span class="tag">002. STUDENT</span>
            <h3>ì´ì¤€í˜</h3>
            <p>ìŒì•…ê³¼ 3í•™ë…„. 7ë²ˆ ì—°ìŠµì‹¤ì˜ í”¼ì•„ë…¸ ì†Œë¦¬.</p>
          </div>
          <div class="card" onclick="openStory('stairs')">
            <span class="tag">LOC. MAIN HALL</span>
            <h3>ì¤‘ì•™ ê³„ë‹¨</h3>
            <p>í•™ìƒë“¤ì´ ëˆ„êµ°ê°€ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ì¥ì†Œ.</p>
          </div>
          <div class="card" onclick="openStory('snow')">
            <span class="tag">EVENT LOG</span>
            <h3>ì²«ëˆˆì´ ë‚´ë¦° ë‚ </h3>
            <p>ìˆ˜ì—…ì´ 10ë¶„ ì§€ì—°ëœ ë‚ ì˜ ê¸°ë¡.</p>
          </div>
        </div>
      </section>

      <!-- [íƒ­ 2] SYSTEM LOGS: ê¸°ë°€ ì •ë³´ (Seed ì•”í˜¸ í•„ìš”) -->
      <section id="section-logs" class="section">
        <!-- ë¡œê·¸ ì ê¸ˆ í™”ë©´ -->
        <div class="log-login-overlay" id="logLoginOverlay">
          <h2 style="color:var(--danger); margin-bottom: 20px;">ğŸ”’ RESTRICTED AREA</h2>
          <p style="color:#888; margin-bottom: 20px; font-size: 12px;">ENTER SECURITY KEY TO ACCESS SYSTEM LOGS</p>
          <input type="password" id="logKeyInput" style="background:transparent; border:none; border-bottom:1px solid var(--danger); color:#fff; text-align:center; padding:5px; font-family:'JetBrains Mono'; outline:none;">
        </div>

        <div class="log-content" id="logContent">
          <div class="section-header">
            <h2 style="color: var(--danger);">âš ï¸ SYSTEM LOGS <span style="font-size: 12px; background:var(--danger); color:#000; padding:2px 6px; border-radius:4px; margin-left:10px;">LEVEL 3 SECRET</span></h2>
            <p>ë³¸ êµ¬ì—­ì˜ ì •ë³´ ì—´ëŒ ê¸°ë¡ì€ ëª¨ë‘ ì„œë²„ì— ì˜êµ¬ ì €ì¥ë©ë‹ˆë‹¤.</p>
          </div>

          <!-- í„°ë¯¸ë„ ìŠ¤íƒ€ì¼ ë¡œê·¸ -->
          <div class="terminal-log">
            <div class="log-entry"><span class="log-date">[2024-12-01]</span><span class="log-msg">System Reboot initiated.</span></div>
            <div class="log-entry"><span class="log-date">[2024-11-28]</span><span class="log-msg warning">Error: Student #2024103 data corrupted.</span></div>
            <div class="log-entry"><span class="log-date">[2024-11-15]</span><span class="log-msg classified">BLOCK_A_UNDERGROUND_ACCESS_ATTEMPT_DETECTED.</span></div>
            <div class="log-entry"><span class="log-date">[2024-10-12]</span><span class="log-msg">ì˜¥ìƒ ì¶œì… ê°ì§€ë¨. CCTV ì˜ìƒ ìë™ ì‚­ì œ ì²˜ë¦¬ì™„ë£Œ.</span></div>
            <div class="log-entry"><span class="log-date">[2024-09-01]</span><span class="log-msg">ê³ ë˜ì»´í¼ë‹ˆ í›„ì›ê¸ˆ ì…ê¸ˆ í™•ì¸ (Amount: UNKNOWN).</span></div>
            <div class="log-entry"><span class="log-date">[2024-08-20]</span><span class="log-msg classified">Subject 'ESCAPER' protocol updated.</span></div>
            <div class="log-entry"><span class="log-date">[1998-03-02]</span><span class="log-msg warning">Warning: No graduates found for 11 consecutive years.</span></div>
          </div>

          <!-- ìµœìƒìœ„ ê¸°ë°€ ì»¤ë§¨ë“œ ì…ë ¥ -->
          <div class="secret-input-area">
            <p style="color:#666; font-size:10px; margin-bottom:5px;">> ROOT COMMAND LINE (Lv.1 ACCESS ONLY)</p>
            <input type="text" id="secretCmd" class="secret-input" placeholder="WAITING FOR COMMAND..." onkeypress="checkSecretCommand(event)">
          </div>
        </div>
      </section>

      <!-- [íƒ­ 3] CONNECTION: ì™¸ë¶€ ì—°ê²° -->
      <section id="section-connection" class="section">
        <div class="section-header">
          <h2>ğŸ”— NETWORK CONNECTION</h2>
          <p>ì™¸ë¶€ ê¸°ê´€ ë° í˜‘ë ¥ ëŒ€ìƒê³¼ì˜ ë°ì´í„° ë§í¬ ìƒíƒœì…ë‹ˆë‹¤.</p>
        </div>

        <div class="connection-card">
          <div class="conn-icon">ğŸ«</div>
          <div class="conn-info">
            <h4>ì”¨ë‹¤ê³ ë“±í•™êµ (Ssida High)</h4>
            <p>Status: <span style="color:var(--accent)">CONNECTED</span> | Latency: 4ms</p>
            <p style="color:#555; font-size:11px; margin-top:5px;">êµë¥˜ í”„ë¡œê·¸ë¨ ë° í•™ìƒ ë°ì´í„° ê³µìœ  í˜‘ì•½ ì²´ê²°.</p>
          </div>
        </div>

        <div class="connection-card">
          <div class="conn-icon">ğŸ¢</div>
          <div class="conn-info">
            <h4>ì€ì²­ê³ ë“±í•™êµ (Oeeuncheong High)</h4>
            <p>Status: <span style="color:yellow">UNSTABLE</span> | Latency: 340ms</p>
            <p style="color:#555; font-size:11px; margin-top:5px;">ë³´ì•ˆ í”„ë¡œí† ì½œ ì¶©ëŒë¡œ ì¸í•´ ë°ì´í„° íŒ¨í‚· ì†ì‹¤ ë°œìƒ ì¤‘.</p>
          </div>
        </div>

        <div class="connection-card" style="border-left-color: var(--primary);">
          <div class="conn-icon">ğŸ‹</div>
          <div class="conn-info">
            <h4>ê³ ë˜ì»´í¼ë‹ˆ (Whale Company)</h4>
            <p>Status: <span style="color:var(--accent)">SECURE LINK</span> | Role: MAIN SPONSOR</p>
            <p style="color:#555; font-size:11px; margin-top:5px;">ì¢…ìì˜ˆìˆ ê³ ë“±í•™êµ ì‹œì„¤ ìœ ì§€ë³´ìˆ˜ ë° ì—°êµ¬ë¹„ ì „ì•¡ ì§€ì›.</p>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- 4. ìŠ¤í† ë¦¬ ë¦¬ë” (ì˜¤ë²„ë ˆì´) -->
  <div class="story-overlay" id="storyOverlay" onclick="nextSentence()">
    <div style="position: absolute; top: 40px; right: 40px; font-family: 'JetBrains Mono'; color: #fff; font-size: 12px;" id="storyProgress"></div>
    <div class="story-text" id="storyText"></div>
    <div style="position: absolute; bottom: 50px; font-family: 'JetBrains Mono'; font-size: 12px; color: #666; animation: blink 1.5s infinite;">CLICK TO CONTINUE</div>
  </div>

  <script>
    /* === 1. ì‹œìŠ¤í…œ ì„¤ì • === */
    const playlist = [
      { title: "Archive Main Theme", artist: "System", src: "" },
      { title: "Corrupted Memory", artist: "Unknown", src: "" }
    ];
    let currentTrackIndex = 0;
    
    // ë®¤ì§ í”Œë ˆì´ì–´ UI ì—…ë°ì´íŠ¸
    function updatePlayerUI() {
      const track = playlist[currentTrackIndex];
      document.getElementById('trackTitle').innerText = track.title;
      document.getElementById('trackArtist').innerText = track.artist;
    }
    updatePlayerUI();

    /* === 2. ë¡œê·¸ì¸ ë° ë¶€íŒ… === */
    // ì…ë ¥ì°½ ë°ê¸° ì¡°ì ˆ íš¨ê³¼
    const pwdInput = document.getElementById('passwordInput');
    pwdInput.addEventListener('input', function() {
      const len = this.value.length;
      const light = 30 + (len * 7);
      this.style.color = `hsl(270, 100%, ${light}%)`;
      this.style.borderBottomColor = `hsl(270, 100%, ${light}%)`;
      if(len > 0) this.style.textShadow = `0 0 ${len*2}px var(--primary)`;
      else this.style.textShadow = 'none';
    });

    function tryLogin() {
      const input = document.getElementById('passwordInput');
      if (input.value.toUpperCase() === 'ARCHIVE') {
        document.getElementById('loginScreen').style.opacity = 0;
        setTimeout(() => {
          document.getElementById('loginScreen').style.display = 'none';
          runBootSequence();
        }, 800);
      } else {
        const msg = document.getElementById('errorMsg');
        msg.style.opacity = 1;
        setTimeout(() => msg.style.opacity = 0, 2000);
      }
    }
    document.getElementById('passwordInput').addEventListener('keypress', (e) => { if(e.key==='Enter') tryLogin(); });

    function runBootSequence() {
      const boot = document.getElementById('bootScreen');
      const main = document.getElementById('mainWrapper');
      const player = document.getElementById('musicPlayer');
      boot.style.display = 'block';
      const lines = ["SYSTEM INIT...", "LOADING WORLDVIEW...", "CONNECTING TO WHALE CO. SERVER...", "DECRYPTING LOGS...", "ACCESS GRANTED."];
      let delay = 0;
      lines.forEach((line, i) => {
        delay += 600;
        setTimeout(() => {
          boot.innerHTML += `> ${line}<br>`;
          if(i === lines.length-1) {
            setTimeout(() => {
              boot.style.display = 'none';
              main.style.opacity = 1;
              player.style.opacity = 1;
            }, 800);
          }
        }, delay);
      });
    }

    /* === 3. íƒ­ ì „í™˜ ë¡œì§ === */
    function switchTab(tabId, element) {
      // ë©”ë‰´ í™œì„±í™”
      document.querySelectorAll('.menu-item').forEach(el => el.classList.remove('active'));
      element.classList.add('active');

      // ì„¹ì…˜ ì „í™˜
      document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
      document.getElementById('section-' + tabId).classList.add('active');
    }

    /* === 4. Worldview ê¸€ë¦¬ì¹˜ íš¨ê³¼ (ì¡¸ì—…ìƒ ìˆ˜ 0 <-> 2000) === */
    const gradCounter = document.getElementById('gradCounter');
    setInterval(() => {
      // 95% í™•ë¥ ë¡œ '0', 5% í™•ë¥ ë¡œ ê¸€ë¦¬ì¹˜ ìˆ«ì '2000' ë“± í‘œì‹œ
      if(Math.random() > 0.95) {
        gradCounter.innerText = Math.random() > 0.5 ? "2000" : "ERROR";
        gradCounter.style.color = "var(--danger)";
        gradCounter.style.textShadow = "2px 0 red";
      } else {
        gradCounter.innerText = "0";
        gradCounter.style.color = "#fff";
        gradCounter.style.textShadow = "none";
      }
    }, 100);

    /* === 5. SYSTEM LOGS ë³´ì•ˆ ë¡œì§ === */
    const logKeyInput = document.getElementById('logKeyInput');
    logKeyInput.addEventListener('keyup', function(e) {
      if (this.value === 'Seed') {
        // ì•”í˜¸ ì„±ê³µ
        document.getElementById('section-logs').classList.add('unlocked');
      } else if (this.value.length > 4) {
        // í‹€ë¦¼ (ê°„ë‹¨í•œ ì—°ì¶œ)
        this.style.color = 'red';
        setTimeout(() => { this.value = ''; this.style.color = '#fff'; }, 500);
      }
    });

    /* === 6. ì‹œí¬ë¦¿ ì»¤ë§¨ë“œ (ESCAPER / REPACSE) === */
    function checkSecretCommand(e) {
      if (e.key === 'Enter') {
        const cmd = e.target.value.toUpperCase();
        if (cmd === 'ESCAPER') {
          openStory('escaper');
        } else if (cmd === 'REPACSE') {
          openStory('repacse');
        } else {
          e.target.value = "COMMAND NOT RECOGNIZED";
          setTimeout(() => e.target.value = "", 1000);
        }
      }
    }

    /* === 7. ìŠ¤í† ë¦¬ ë¦¬ë” ë¡œì§ === */
    const storyDB = {
      'kim': ["ê¹€ì„œìœ¤. ë¯¸ìˆ ê³¼ 2í•™ë…„.", "ìƒˆë²½ ë“±êµë¥¼ ë°˜ë³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.", "ê·¸ë…€ì˜ ìŠ¤ì¼€ì¹˜ë¶ì—ëŠ” í•™êµê°€ ë¬´ë„ˆì§€ëŠ” ê·¸ë¦¼ë§Œ ê·¸ë ¤ì ¸ ìˆìŠµë‹ˆë‹¤."],
      'lee': ["ì´ì¤€í˜. ìŒì•…ê³¼ 3í•™ë…„.", "7ë²ˆ ì—°ìŠµì‹¤ì—ì„œ ë‚˜ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤.", "ê·¸ê°€ ì—°ì£¼í•˜ëŠ” ê³¡ì€ ì•…ë³´ì— ì—†ëŠ” ê³¡ì…ë‹ˆë‹¤."],
      'stairs': ["ì¤‘ì•™ ê³„ë‹¨.", "ê¸°ë‹¤ë¦¬ëŠ” í•™ìƒë“¤ì€ ë§ì§€ë§Œ, ì •ì‘ ë§Œë‚˜ëŠ” ì‚¬ëŒì€ ì—†ìŠµë‹ˆë‹¤.", "ê·¸ë“¤ì€ ëˆ„êµ¬ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ê±¸ê¹Œìš”?"],
      'snow': ["12ì›” 3ì¼ ì²«ëˆˆ.", "í•™ìƒë“¤ì€ ëˆˆì„ ë³´ë©° ì¢‹ì•„í–ˆì§€ë§Œ,", "êµì‚¬ë“¤ì€ ì°½ë¬¸ì„ ëª¨ë‘ ì ê°”ìŠµë‹ˆë‹¤."],
      
      // 1ê¸‰ ê¸°ë°€ (ESCAPER) - ì™œ ì¡¸ì—…í•˜ì§€ ëª»í•˜ëŠ”ê°€
      'escaper': [
        "ì½”ë“œë„¤ì„: ESCAPER ì ‘ê·¼ ìŠ¹ì¸.",
        "ë³¸êµì— ê´€í•´ ì§ˆë¬¸ì´ ë§ìœ¼ì‹  ê²ƒ ê°™ìŠµë‹ˆë‹¤.",
        "ë³¸êµì˜ ì¡¸ì—…ë¥ ì´ 0%ì¸ ì´ìœ ëŠ” ê°„ë‹¨í•©ë‹ˆë‹¤.",
        "ì´ í•™êµëŠ” êµìœ¡ ê¸°ê´€ì´ ì•„ë‹™ë‹ˆë‹¤.",
        "ì¢…ì(Seed)ë¥¼ ë³´ì¡´í•˜ê³  ë°°ì–‘í•˜ëŠ” 'ì¸íë² ì´í„°'ì…ë‹ˆë‹¤.",
        "í•™ìƒë“¤ì€ ìì‹ ë“¤ì´ ì˜ˆìˆ ì„ ë°°ìš´ë‹¤ê³  ìƒê°í•˜ì§€ë§Œ,",
        "ì‚¬ì‹¤ì€ ê·¸ë“¤ì˜ ê°ì •ê³¼ ì˜ê°ì„ ê³ ë˜ì»´í¼ë‹ˆì— ë°ì´í„°ë¡œ ì „ì†¡í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
        "ì¡¸ì—…ì€ ê³§, ë°ì´í„° ì¶”ì¶œ ì™„ë£Œ í›„ 'íê¸°'ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.",
        "ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” ì¡¸ì—…í•˜ì§€ ì•Šìœ¼ë ¤ ë…¸ë ¥í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤."
      ],
      
      // ê¸€ë¦¬ì¹˜ í˜¸ëŸ¬ (REPACSE) - íƒˆì¶œìì˜ ë…ë°±
      'repacse': [
        "ì‚´ë ¤ì¤˜.",
        "ì—¬ê¸°ì„œ ë‚˜ê°€ì•¼ í•´.",
        "ë²½ ì†ì—... ëˆˆì´ ìˆì–´.",
        "ì„ ìƒë‹˜ë“¤ì€ ì‚¬ëŒì´ ì•„ë‹ˆì•¼.",
        "ë‚´ ì¹œêµ¬ë“¤ì€... ì¡¸ì—…í•œ ê²Œ ì•„ë‹ˆì•¼...",
        "ì§€í•˜ 2ì¸µ... ê³ ë˜ì»´í¼ë‹ˆ ì‹¤í—˜ì‹¤ë¡œ ëŒë ¤ê°”ì–´.",
        "ì´ ê¸€ì„ ë³´ê³  ìˆë‹¤ë©´ ë„ë§ì³.",
        "ì ˆëŒ€ ì¡¸ì—… ì‘í’ˆì„ ì™„ì„±í•˜ì§€ ë§ˆ.",
        "SYSTEM ERROR: USER DISCONNECTED."
      ]
    };

    let currentStory = [];
    let currentIndex = 0;
    let isTyping = false;

    function openStory(id) {
      if (!storyDB[id]) return;
      currentStory = storyDB[id];
      currentIndex = 0;
      
      const overlay = document.getElementById('storyOverlay');
      overlay.classList.add('active');

      // REPACSE(ê³µí¬ ëª¨ë“œ) ì¼ ë•Œ ìŠ¤íƒ€ì¼ ë³€ê²½
      if (id === 'repacse') {
        overlay.classList.add('horror-mode');
      } else {
        overlay.classList.remove('horror-mode');
      }

      showSentence();
    }

    function showSentence() {
      const textEl = document.getElementById('storyText');
      const progressEl = document.getElementById('storyProgress');
      progressEl.innerText = `REC ${currentIndex + 1}/${currentStory.length}`;
      textEl.innerHTML = "";
      
      setTimeout(() => {
        typeWriter(textEl, currentStory[currentIndex]);
      }, 300);
    }

    function typeWriter(element, text) {
      isTyping = true;
      let i = 0;
      element.innerHTML = '<span class="cursor"></span>';
      
      // íƒ€ì´í•‘ ì†ë„ (80ms)
      const timer = setInterval(() => {
        element.innerHTML = text.substring(0, i+1) + '<span class="cursor"></span>';
        i++;
        if (i === text.length) {
          clearInterval(timer);
          isTyping = false;
        }
      }, 80);
    }

    function nextSentence() {
      if (isTyping) return;
      currentIndex++;
      if (currentIndex >= currentStory.length) {
        document.getElementById('storyOverlay').classList.remove('active');
      } else {
        showSentence();
      }
    }
    
    // ì”¨ì•— ë°°ê²½ íš¨ê³¼
    setInterval(() => {
      const container = document.getElementById('seed-container');
      if(container) {
        const seed = document.createElement('div');
        seed.innerText = 'ğŸŒ±'; seed.classList.add('seed');
        seed.style.left = Math.random()*100+'%';
        seed.style.animationDuration = (Math.random()*3+2)+'s';
        container.appendChild(seed);
        setTimeout(()=>seed.remove(), 5000);
      }
    }, 150);

  </script>
</body>
</html>
